lambda.b <- floor(53/20)
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
pexp(1, lambda.a)
pexp(1, lambda.b)
par(mfrow = c(1,1))
y <- seq(0, 5, by = 0.1)
lambda.a <- floor(60/15)
lambda.b <- floor(53/20)
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
y <- seq(-1, 5, by = 0.1)
lambda.a <- floor(60/15)
lambda.b <- floor(53/20)
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
par(mfrow = c(1,1))
y <- seq(0, 5, by = 0.1)
lambda.a <- floor(60/15)
lambda.b <- floor(53/20)
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
bus.a
par(mfrow = c(1,1))
y <- seq(0, 4, by = 0.1)
lambda.a <- floor(60/15)
lambda.b <- floor(53/20)
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
pexp(4, lambda.a)
pexp(4, lambda.b)
pexp(5, lambda.b)
pexp(1, lambda.a)
pexp(1, lambda.b)
lambda.a <- floor(60/15) / 60
lambda.b <- floor(53/20) / 60
lambda.a <- floor(60/15)
lambda.b <- floor(53/20)
dexp(0:10, 10)
test <- dexp(0:10, 10)
plot(0:10, test)
test <- dexp(0:5, 1)
plot(0:10, test)
test <- dexp(0:5, 1)
plot(0:5, test)
plot(0:5, test, type = "l")
plot(seq(0,5,by = 0.1), test, type = "l")
test <- dexp(seq(0,5,by = 0.1), 1)
plot(seq(0,5,by = 0.1), test, type = "l")
pexp(1, lambda.a)
pexp(1, lambda.b)
fxa <- pexp(1, lambda.a)
pexp(1, lambda.b)
plot(y, fxa, type = "l")
fxa <- pexp(y, lambda.a)
pexp(1, lambda.b)
plot(y, fxa, type = "l")
plot(seq(0,5,by = 0.1), test, type = "l")
par(mfrow = c(1,1))
y <- seq(0, 4, by = 0.1)
lambda.a <- floor(60/15)
lambda.b <- floor(53/20)
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
par(mfrow = c(1,2))
y <- seq(0, 4, by = 0.1)
lambda.a <- floor(60/15)
lambda.b <- floor(53/20)
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
lambda.a <- floor(60/15) / 60
lambda.b <- floor(53/20) / 60
lambda.a <- floor(60/15)
lambda.b <- floor(53/20)
par(mfrow = c(1,2))
y <- seq(0, 4/60, by = 0.1)
lambda.a <- floor(60/15)
lambda.b <- floor(53/20)
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
test <- dexp(seq(0,5,by = 0.1), 1)
y <- seq(0, 4/60, by = 0.01)
lambda.a <- floor(60/15)
lambda.b <- floor(53/20)
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
par(mfrow = c(1,2))
y <- seq(0, 4/60+1, by = 0.01)
lambda.a <- floor(60/15)
lambda.b <- floor(53/20)
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
test <- dexp(seq(0,5,by = 0.1), 1)
par(mfrow = c(1,2))
y <- seq(0, 4/60+2, by = 0.01)
lambda.a <- floor(60/15)
lambda.b <- floor(53/20)
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
par(mfrow = c(1,2))
y <- seq(0, 4, by = 0.01)
lambda.a <- floor(60/15)
lambda.b <- floor(53/20)
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
lambda.a <- floor(60/15) / 60
lambda.b <- floor(53/20) / 60
par(mfrow = c(1,2))
y <- seq(0, 4, by = 0.01)
lambda.a <- floor(60/15) / 60
lambda.b <- floor(53/20) / 60
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
par(mfrow = c(1,2))
y <- seq(0, 60, by = 1)
lambda.a <- floor(60/15) / 60
lambda.b <- floor(53/20) / 60
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
par(mfrow = c(1,2))
y <- seq(0, 80, by = 1)
lambda.a <- floor(60/15) / 60
lambda.b <- floor(53/20) / 60
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
pexp(.99, lambda.a)
pexp(.99, lambda.a) * 60
dexp(3.8, lambda.a)
dexp(30, lambda.a)
dexp(40, lambda.a)
dexp(10, lambda.a)
dexp(1, lambda.a)
dexp(.5, lambda.a)
dexp(.1, lambda.a)
dexp(0, lambda.a)
par(mfrow = c(1,2))
y <- seq(0, 80, by = 1)
lambda.a <- floor(60/15)
lambda.b <- floor(53/20)
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
par(mfrow = c(1,2))
y <- seq(0, 3, by = 0.1)
lambda.a <- floor(60/15)
lambda.b <- floor(53/20)
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
par(mfrow = c(1,2))
y <- seq(0, 2, by = 0.01)
lambda.a <- floor(60/15)
lambda.b <- floor(53/20)
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
par(mfrow = c(1,2))
y <- seq(0, 2, by = 0.01) * 60
lambda.a <- floor(60/15)
lambda.b <- floor(53/20)
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
par(mfrow = c(1,2))
y <- seq(0, 2, by = 0.01)
lambda.a <- floor(60/15)
lambda.b <- floor(53/20)
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
par(mfrow = c(1,2))
y <- seq(0, 60, by = 1)
lambda.a <- 15 # minutes
lambda.b <- 20 # minutes
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
par(mfrow = c(1,2))
y <- seq(0, 30, by = 1)
lambda.a <- 15 # minutes
lambda.b <- 20 # minutes
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
par(mfrow = c(1,2))
y <- seq(0, 10, by = 1)
lambda.a <- 15 # minutes
lambda.b <- 20 # minutes
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
par(mfrow = c(1,2))
y <- seq(0, 2, by = 0.1)
lambda.a <- 15 # minutes
lambda.b <- 20 # minutes
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
par(mfrow = c(1,2))
y <- seq(0, 1, by = 0.01)
lambda.a <- 15 # minutes
lambda.b <- 20 # minutes
bus.a<- dexp(y, lambda.a)
bus.b<- dexp(y, lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
bus.a<- dexp(y, rate = lambda.a)
bus.b<- dexp(y, rate = lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
test <- dexp(seq(0,5,by = 0.1), 1)
plot(seq(0,5,by = 0.1), test, type = "l")
par(mfrow = c(1,2))
y <- seq(0, 1, by = 0.01)
lambda.a <- 15 # minutes
lambda.b <- 20 # minutes
bus.a<- dexp(y, rate = lambda.a)
bus.b<- dexp(y, rate = lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
par(mfrow = c(1,2))
y <- seq(0, 1, by = 0.01)
lambda.a <- 15 # minutes
lambda.b <- 20 # minutes
bus.a<- dexp(y, rate = 1/lambda.a)
bus.b<- dexp(y, rate = 1/lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
par(mfrow = c(1,2))
y <- seq(0, 5, by = 0.1)
lambda.a <- 15 # minutes
lambda.b <- 20 # minutes
bus.a<- dexp(y, rate = 1/lambda.a)
bus.b<- dexp(y, rate = 1/lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
par(mfrow = c(1,2))
y <- seq(0, 10, by = 0.1)
lambda.a <- 15 # minutes
lambda.b <- 20 # minutes
bus.a<- dexp(y, rate = 1/lambda.a)
bus.b<- dexp(y, rate = 1/lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
par(mfrow = c(1,2))
y <- seq(0, 60, by = 0.1)
lambda.a <- 15 # minutes
lambda.b <- 20 # minutes
bus.a<- dexp(y, rate = 1/lambda.a)
bus.b<- dexp(y, rate = 1/lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
par(mfrow = c(1,2))
y <- seq(0, 90, by = 0.1)
lambda.a <- 15 # minutes
lambda.b <- 20 # minutes
bus.a<- dexp(y, rate = 1/lambda.a)
bus.b<- dexp(y, rate = 1/lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
par(mfrow = c(1,2))
y <- seq(0, 90, by = 1)
lambda.a <- 15 # minutes
lambda.b <- 20 # minutes
bus.a<- dexp(y, rate = 1/lambda.a)
bus.b<- dexp(y, rate = 1/lambda.b)
plot(y, bus.a, type = "l")
plot(y, bus.b, type = "l")
x <- seq(0, 4, by=0.01)
fx1 <- dexp(x, rate=1);  Fx1 <- pexp(x, rate=1)
fx2 <- dexp(x, rate=5);  Fx2 <- pexp(x, rate=5)
fx3 <- dexp(x, rate=10); Fx3 <- pexp(x, rate=10)
# Abbildung
par(mfrow=c(1,2), lwd=2, font.axis=2, bty="n", ps=11)
plot(x, fx1, type="l", ylim=c(0, 2), xlim=c(0, 4),
ylab="f(x)", xlab=" ", lwd=2, lty=1 , col="blue")
lines(x, fx2, type="l", lwd=2, lty=2, col="red")
lines(x, fx3, type="l", lwd=2, lty=3 , col="green")
legend(1.5, 1, bty="n", c(expression(lambda ==1), expression(lambda ==5),
expression(lambda ==10)), lty=c(1,2,3), cex=1)
3
x <- c(1,2,3,4,5)
y <- c(10,2,4,5)
plot(x,y)
x <- c(1,2,3,4,5)
y <- c(10,2,4,5,1)
plot(x,y)
x <- c(1,2,3)
y <- c(1,2,3)
plot(x,y)
setwd("~/")
setwd("C:/Users/pat_h/OneDrive/public-repos/R-Resources/Distributions")
setwd("C:/Users/pat_h/OneDrive/public-repos/R-Resources/Finance")
## install package
install.packages("FinAna")
## use library
library(FinAna)
## check out library
help(package = "FinAna")
## get price from Yahoo Finance
amazon.prices <- get.price.yahoo(tkr = "AMZN", bg = "2010-01-01", ed = "today", f = "d")
## check out library
help(package = "FinAna")
## get price from Yahoo Finance
amazon.prices <- get.price.yahoo(tkr = "AMZN") #, bg = "2010-01-01", ed = "today", f = "d")
## get price from Yahoo Finance
amazon.prices <- get.price.yahoo(tkr = "AAPL", bg = "2010-01-01", ed = "today", f = "d")
## get price from Yahoo Finance
amazon.prices <- get.price.yahoo(tkr = "WMT", bg = "2010-01-01", ed = "today", f = "d")
## get price from Yahoo Finance
amazon.prices <- get.price.google(tkr = "WMT", bg = "2010-01-01", ed = "today", f = "d")
## get price from Yahoo Finance
amazon.prices <- get.price.google(tkr = "WMT", bg = "2010-01-01", ed = "today")
source("C:/Users/pat_h/OneDrive/public-repos/R-Resources/Finance/Get Financial Data.R", echo=TRUE)
## install package
install.packages("tidyquant")
installed.packages("tidyverse")
install.packages("tidyverse")
## use library
library(tidyquant)
library(tidyverse)
detach("package:FinAna", unload = TRUE)
remove.packages("FinAna")
help(package = "base")
?installed.packages
installed.packages()
## use library
library(tidyquant)
library(tidyverse)
## check out library
help(package = "tidyverse")
tidyverse_packages()
help(package = "tidyquant")
## get prices
amzn.stock <- tq_get("AMZN", get = "stock.prices", from = "2020-01-01", to = "2024-04-25")
head(amzn.stock)
amzn.stock["date", "close"]
amzn.stock %>% select(date, close)
amzn.stock %>%
select(date, close) %>%
summarise()
amzn.stock %>% select(date, close) %>% summarise()
amzn.stock %>% select(date, close) %>% summarize()
amzn.stock %>% select(date, open, hight, low, close) %>% summarize()
amzn.stock %>% select(date, open, high, low, close) %>% summarize()
?summarize
t <- amzn.stock %>% select(date, open, high, low, close) %>% summarize()
t
amzn.stock %>% select(date, open, high, low, close) %>% summarize(n())
amzn.stock %>% select(date, close) %>% summarize(n())
amzn.stock %>% select(date, close) %>% summarize(close = n())
amzn.stock %>% select(date, close) %>% summarize(max())
amzn.stock %>% select(date, close) %>% summarize(max(close))
amzn.stock %>% select(date, close)
## check out library
help(package = "tidyverse")
installed.packages("tidyverse")
amzn.stock %>% select(date) %>% year()
amzn.stock %>% select(date) %>% year(date)
amzn.stock %>% select(date)
amzn.stock %>% select(date) %>% year()
amzn.stock %>% select(date) %>% as.Date()
amzn.stock %>% select(date) %>% as.Date(format = "%Y-%m-%d")
?as.Date
amzn.stock %>% select(date, closes)
amzn.stock %>% select(date, close)
amzn.stock$date <- as.Date(amzn.stock$date, format = "%Y-%m-%d")
head(amzn.stock)
class(amzn.stock$date)
## get prices
#returns data in tibble format
amzn.stock <- tq_get("AMZN", get = "stock.prices", from = "2020-01-01", to = "2024-04-25")
head(amzn.stock)
## get prices
#returns data in tibble format
amzn.stock <- tq_get("AMZN", get = "stock.prices", from = "2020-01-01", to = "2024-04-25")
head(amzn.stock)
amzn.stock %>% select(date, close)
class(amzn.stock$date)
amzn.stock$date
amzn.stock$date %>% year()
amzn.stock %>% select(date, close, where(amzn.stock$date == 2021))
amzn.stock %>% select(amzn.stock$date == 2021)
amzn.stock %>% select(where(amzn.stock$date == 2021)
amzn.stock %>% select(where(amzn.stock$date == 2021)
q
amzn.stock %>% select(where(amzn.stock$date == 2021))
amzn.stock %>% select(where(year((amzn.stock$date) == 2021))
dsf
amzn.stock %>% select(where(year(amzn.stock$date) == 2021))
amzn.stock %>% select(date, close, where(year(amzn.stock$date) == 2021))
amzn.stock %>% select(where(year(date) == 2021))
amzn.stock %>% select(where(close > 200))
amzn.stock %>% select(date, close, where(close > 200))
amzn.stock %>% select(date, close)
amzn.stock %>% filter(year(date) == 2021)
amzn.stock %>% group_by(year(date)) %>% summarize(mean(), std())
amzn.stock %>% group_by(year(date)) %>% summarize(mean(close), std(close))
amzn.stock %>% group_by(year(date)) %>% summarize(mean(close), min(close), max(clsoe))
amzn.stock %>% group_by(year(date)) %>% summarize(mean(close), min(close), max(close))
amzn.stock %>% group_by(year(date)) %>% summarize(mean(close), sd(close), min(close), max(close))
# group by year and then summarize basic metrics
amzn.stock %>% group_by(year(date)) %>% summarize(mean(close) = mean, sd(close), min(close), max(close))
# group by year and then summarize basic metrics
amzn.stock %>% group_by(year(date)) %>% summarize(mean(close) = "mean", sd(close), min(close), max(close))
# group by year and then summarize basic metrics
amzn.stock %>% group_by(year(date)) %>% summarize(mean(close), sd(close), min(close), max(close))
# group by year and then summarize basic metrics
amzn.stock %>% group_by(year(date)) %>% summarize(amzn_mean = mean(close), amzn_std = sd(close), amzn_min = min(close), amzn_max = max(close))
# group by year and then summarize basic metrics
amzn.stock %>% group_by(year(date)) %>% summarize(amzn_mean = mean(close),
amzn_std = sd(close),
amzn_min = min(close),
amzn_max = max(close))
# group by year and then summarize basic metrics
amzn.stock %>% group_by(date = year(date)) %>% summarize(amzn_mean = mean(close),
amzn_std = sd(close),
amzn_min = min(close),
amzn_max = max(close))
daten <- read.csv("S&P500.csv",header=T,sep=";",dec=",")
daten <- read.csv("SP500.csv", header=T, sep=";", dec=",")
S <- daten$RI #Performance Index inkl. Dividenden als Grundlage der Untersuchung
tS <- as.Date(paste(daten$Datum, "01", sep="/"), "%Y/%m/%d") #Datum fuer R verstaendlich machen
t <- tS[2:length(tS)]
logS <- log(S)
r <- diff(logS)
n <- length(r);n
plot(tS, logS, type="l")#
plot(t, r, type="l")
summary(r)*100
#Histogramm
h<-hist(r,c(-0.9,seq(-0.4,0.4,0.01),0.9));h$counts
#Fallacy of time diversification, ACHTUNG: ueberlappende Zeitraeume
y <- c(1,2,5,10,15,20) #Vektor der Horizonte, die man betrachten moechte
ann <- FALSE #je nachdem, ob man annualisieren möchte oder nicht
ann <- TRUE
#Schleife ueber alle Horizonte in Jahren, die betrachtet werden
for (j in y){
if (ann){
r <- diff(logS,lag=12*j)/j #annualisierte log. Renditen
}
else {
r <- diff(logS,lag=12*j) #nicht annualisierte log. Renditen
}
if (j == 1){
liste <- list(r)
}
else
{
liste <- c(liste,list(r))
}
}
#Schleife ueber alle Horizonte in Jahren, die betrachtet werden
for (j in y){
if (ann){
r <- diff(logS,lag=12*j)/j #annualisierte log. Renditen
}
else {
r <- diff(logS,lag=12*j) #nicht annualisierte log. Renditen
}
if (j == 1){
liste <- list(r)
}
else
{
liste <- c(liste,list(r))
}
}
names(liste) <- y
bp <- boxplot(liste,xlab="Horizont in Jahren")
sqrt(20)/sqrt(10) #von 10 nach 20 muesste eigtentlich 1,414fach weiter sein, nicht annualsiert! Ist aber weniger.
bp$stats #Spannweite nicht so viel mehr bei 20 im Vgl. zu 10
sd(liste$"20")/sd(liste$"10") #Vola-Verhaeltnis auch etwas weniger als erwartet
liste
